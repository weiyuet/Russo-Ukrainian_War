---
title: "Russo-Ukrainian War"
subtitle: "Numbers from the Ukraine-Russia War"
output: 
  html_document:
    code_folding: hide
    theme: simple
    fig_width: 12
    fig_height: 10
    toc: yes
    toc_float: yes
    number_sections: true
---
```{r setup, include=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(simplevis)
library(reshape2)
```

  - Inspired by the data sets collected by @LenaSokol and @PetroIvanyuk on Kaggle

![](https://ichef.bbci.co.uk/news/976/cpsprodpb/2CDE/production/_124868411_ukraine_russian_control_areas_map_2x640-nc.png)

# Data
```{r}
# Import data
russia_losses_equipment <- read_csv("data/russia_losses_equipment.csv")
russia_losses_personnel <- read_csv("data/russia_losses_personnel.csv")
```

```{r, warning=FALSE}
# Change data to long format
russia_losses_equipment_long <- melt(russia_losses_equipment, id = "date")
russia_losses_personnel_long <- melt(russia_losses_personnel, id = "date")

str(russia_losses_personnel_long)
# Re-code value from chr to dbl
russia_losses_personnel_long$value <- as.double(as.character(russia_losses_personnel_long$value))
```

# Losses by Russia
## Equipment
```{r}
russia_losses_equipment_long %>% 
  filter(variable == "aircraft" | variable == "helicopter" | variable == "tank" | variable == "APC" | variable == "field artillery" | variable == "drone") %>%
  gg_line_col_facet(x_var = date,
                    y_var = value,
                    col_var = variable,
                    facet_var = variable,
                    facet_scales = "free_y",
                    x_title = "",
                    y_title = "",
                    title = "Russian Equipment Lost",
                    col_legend_none = TRUE,
                    caption = "Source: Armed Forces of Ukraine, Ministry of Defense of Ukraine. Graphic: @wyuet",
                    theme = theme_bw())
```

## Personnel
```{r}
russia_losses_personnel_long %>% 
  filter(variable == "personnel" | variable == "POW") %>% 
  gg_line_col(x_var = date,
              y_var = value,
              col_var = variable,
              x_title = "",
              y_title = "",
              title = "Russian Personnel Lost",
              col_legend_none = TRUE,
              caption = "Source: Armed Forces of Ukraine, Ministry of Defense of Ukraine. Graphic: @wyuet",
              theme = theme_bw())
```

