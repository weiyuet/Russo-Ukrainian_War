---
title: "Russo-Ukrainian War"
subtitle: "Numbers from the Ukraine-Russia War"
output: 
  html_document:
    code_folding: hide
    theme: simple
    fig_width: 12
    fig_height: 10
    toc: yes
    toc_float: yes
    number_sections: true
---
```{r Setup, include=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(simplevis)
library(reshape2)
```

  - Inspired by the data sets collected by @LenaSokol and @PetroIvanyuk on Kaggle
  
  - Want to understand the costs of war
  
  - Look into the broader picture such as global energy supply and food supply

![](https://ichef.bbci.co.uk/news/976/cpsprodpb/2CDE/production/_124868411_ukraine_russian_control_areas_map_2x640-nc.png)

# Russian Casualties
```{r Russian Casualties CSV}
# Import data
russia_losses_equipment <- read_csv("data/russia_losses_equipment.csv")
russia_losses_personnel <- read_csv("data/russia_losses_personnel.csv")
```

```{r Change data to long format, include=FALSE , warning=FALSE}
# Change data to long format
russia_losses_equipment_long <- melt(russia_losses_equipment, id = "date")
russia_losses_personnel_long <- melt(russia_losses_personnel, id = "date")

# Convert value from chr to dbl
russia_losses_equipment_long$value <- as.double(as.character(russia_losses_equipment_long$value))
russia_losses_personnel_long$value <- as.double(as.character(russia_losses_personnel_long$value))
```

## Equipment
```{r Russian Losses Equipment plot}
russia_losses_equipment_long %>% 
  filter(variable == "aircraft" | variable == "helicopter" | variable == "tank" | variable == "APC" | variable == "field artillery" | variable == "drone") %>%
  gg_line_col_facet(x_var = date,
                    y_var = value,
                    col_var = variable,
                    facet_var = variable,
                    facet_scales = "free_y",
                    x_title = "",
                    y_title = "",
                    title = "Russian Equipment Lost",
                    col_legend_none = TRUE,
                    caption = "Source: Armed Forces of Ukraine, Ministry of Defense of Ukraine. Graphic: @wyuet",
                    theme = theme_bw())
```

## Personnel
```{r Russian Losses Personnel plot}
russia_losses_personnel_long %>% 
  filter(variable == "personnel" | variable == "POW") %>% 
  gg_line_col(x_var = date,
              y_var = value,
              col_var = variable,
              x_title = "",
              y_title = "",
              title = "Russian Personnel Lost",
              col_title = "",
              col_legend_none = TRUE,
              caption = "Source: Armed Forces of Ukraine, Ministry of Defense of Ukraine. Graphic: @wyuet",
              theme = theme_bw())
```

# Russian Crude Oil Production

```{r Crude Oil Production CSV}
crude_oil_production_annual <- read_csv("data/crude_oil_production_annual.csv")
```

```{r Filter/choose data}
crude_oil_production_annual %>% 
  filter(LOCATION == "RUS" | LOCATION == "UKR" | LOCATION == "EU28" | LOCATION =="OECD") %>% 
  gg_line_col(x_var = TIME,
              y_var = Value,
              col_var = LOCATION,
              x_na_rm = TRUE,
              x_title = "",
              y_title = "",
              col_title = "",
              col_legend_none = FALSE,
              title = "Crude Oil Production in (Total, Thousand TOE)",
              caption = "Source: Extended world energy balances. OECD. Graphic: @wyuet",
              theme = theme_light())
```

